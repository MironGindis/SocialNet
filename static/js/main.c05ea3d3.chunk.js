(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{115:function(e,t,n){},124:function(e,t,n){e.exports=n.p+"static/media/User-Icon.cefea5a4.png"},125:function(e,t,n){e.exports=n.p+"static/media/91.3aedb725.svg"},126:function(e,t,n){e.exports=n.p+"static/media/trruejob.98c22497.webp"},127:function(e,t,n){e.exports=n.p+"static/media/chill.3a05d0ee.webp"},153:function(e,t,n){e.exports=n(293)},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(5),r=n(8),s=n.n(r),o=n(16),c=n(34),i=n(11),u=n(119).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6bdc48f4-a9b1-4db5-9981-179668bf2ca7"}}),l=function(e,t){return u.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},m=function(e){return u.post("follow/".concat(e))},f=function(e){return u.delete("follow/".concat(e))},p=function(e){return u.get("profile/".concat(e))},d=function(e){return u.get("profile/status/".concat(e))},g=function(e){return u.put("profile/status",{status:e})},E=function(){return u.get("auth/me")},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u.post("/auth/login",{email:e,password:t,rememberMe:n})},b=function(){return u.delete("/auth/login")},v={postsData:[{id:1,message:"Hi, how are you?",likesCount:15,source:"https://avatars.mds.yandex.net/get-zen_doc/1328583/pub_5c51c6e9420c4000ad739cf2_5c52fcca3c26f500aef4416b/scale_1200"},{id:2,message:"Yo this is my first post",likesCount:23,source:"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/39c5e0dd-e819-4a7d-b314-5b9665bd8e30/d7bkh20-72708552-82b2-40ae-8b83-ee1dbe2e7846.jpg/v1/fill/w_768,h_960,q_75,strp/keanu_reeves___neo__matrix__by_zied8008_d7bkh20-fullview.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9OTYwIiwicGF0aCI6IlwvZlwvMzljNWUwZGQtZTgxOS00YTdkLWIzMTQtNWI5NjY1YmQ4ZTMwXC9kN2JraDIwLTcyNzA4NTUyLTgyYjItNDBhZS04YjgzLWVlMWRiZTJlNzg0Ni5qcGciLCJ3aWR0aCI6Ijw9NzY4In1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmltYWdlLm9wZXJhdGlvbnMiXX0.izytAEyMlLpdU7qWbxOHbZzEoMihKinfjLrRXD-3UBU"}],profile:null,status:""},w=function(e){return{type:"SET_STATUS",status:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:5,message:t.newPostText,likesCount:0,source:"https://avatars.mds.yandex.net/get-zen_doc/1328583/pub_5c51c6e9420c4000ad739cf2_5c52fcca3c26f500aef4416b/scale_1200"};return Object(i.a)({},e,{postsData:[].concat(Object(c.a)(e.postsData),[n])});case"SET_USER_PROFILE":return Object(i.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(i.a)({},e,{status:t.status});default:return e}},_={messages:[{id:1,message:"Hi"},{id:2,message:"Yo, man"},{id:3,message:"What are you doing?"}],dialogs:[{id:1,name:"Alex"},{id:2,name:"Alice"},{id:3,name:"Dima"},{id:4,name:"Andrey"},{id:5,name:"Sasha"},{id:6,name:"Dasha"},{id:7,name:"Ivan"}]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n={id:1,message:t.newMessageText};return Object(i.a)({},e,{messages:[].concat(Object(c.a)(e.messages),[n])});default:return e}},S={users:[],pageSize:5,totalCount:0,currentPage:1,isFetching:!1,followingNiProgress:[]},N=function(e){return{type:"FOLLOW",userID:e}},P=function(e){return{type:"UNFOLLOW",userID:e}},y=function(e){return{type:"SETUSERS",users:e}},k=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},C=function(e){return{type:"TOTALUSERS",totalUsersCount:e}},T=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},U=function(e,t){return{type:"TOGGLE_FOLLOWING_PROGRESS",isFetching:e,userID:t}},I=function(e,t){return function(){var n=Object(o.a)(s.a.mark((function n(a){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(T(!0)),n.next=3,l(e,t);case 3:r=n.sent,a(T(!1)),a(y(r.items)),a(C(r.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(i.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(i.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(i.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(i.a)({},e,{followed:!1}):e}))});case"SET_CURRENT_PAGE":return Object(i.a)({},e,{currentPage:t.currentPage});case"SETUSERS":return Object(i.a)({},e,{users:Object(c.a)(t.users)});case"TOTALUSERS":return Object(i.a)({},e,{totalCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(i.a)({},e,{isFetching:t.isFetching});case"TOGGLE_FOLLOWING_PROGRESS":return Object(i.a)({},e,{followingNiProgress:t.isFetching?[].concat(Object(c.a)(e.followingNiProgress),[t.userID]):e.followingNiProgress.filter((function(e){return e!==t.userID}))});default:return e}},D=n(36),M={id:null,login:null,email:null,isAuth:!1},A=function(e,t,n,a){return{type:"auth/SET_USER_DATA",data:{id:e,login:t,email:n,isAuth:a}}},L=function(){return function(){var e=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===(n=e.sent).data.resultCode&&t(A(n.data.data.id,n.data.data.login,n.data.data.email,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":return Object(i.a)({},e,{},t.data);default:return e}},F=n(120),G=n(118),W={initialized:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(i.a)({},e,{initialized:!0});default:return e}},J=Object(a.c)({profilePage:O,dialogsPage:j,usersPage:x,auth:z,form:G.a,app:R}),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,X=Object(a.e)(J,Y(Object(a.a)(F.a))),Z=n(0),B=n.n(Z),q=n(59),Q=n.n(q),V=(n(236),n(18)),H=n(19),K=n(21),$=n(20),ee=(n(237),n(238),n(10)),te=function(){return B.a.createElement("nav",{className:"nav"},B.a.createElement("div",{className:"nav__link"},B.a.createElement(ee.b,{to:"/profile"},"Profile")),B.a.createElement("div",{className:"nav__link"},B.a.createElement(ee.b,{to:"/dialogs"},"Messages")),B.a.createElement("div",{className:"nav__link"},B.a.createElement(ee.b,{to:"/users"},"Users")),B.a.createElement("div",{className:"nav__link"},B.a.createElement(ee.b,{to:"/news"},"News")),B.a.createElement("div",{className:"nav__link"},B.a.createElement(ee.b,{to:"/music"},"Music")),B.a.createElement("div",{className:"nav__link"},B.a.createElement(ee.b,{to:"/settings"},"Settings")))},ne=n(30),ae=(n(243),function(){return B.a.createElement("div",null,"Music")}),re=(n(244),function(){return B.a.createElement("div",null,"News")}),se=(n(245),function(){return B.a.createElement("div",null,"Settings")}),oe=(n(246),n(247),function(e){var t="/dialogs/"+e.id;return B.a.createElement("div",{className:"Dialogs__item"},B.a.createElement(ee.b,{to:t},e.name))}),ce=(n(248),function(e){return B.a.createElement("div",{className:"Dialog__message"},e.message)}),ie=n(116),ue=n(117),le=n(84),me=(n(249),function(e){var t=e.input,n=e.meta,a=Object(le.a)(e,["input","meta"]);return B.a.createElement("div",{className:n.touched&&n.error?"formsControls error":"formsControls"},B.a.createElement("div",null,B.a.createElement("textarea",Object.assign({},t,a))),n.touched&&n.error?B.a.createElement("span",null,n.error,"!"):null)}),fe=function(e){var t=e.input,n=e.meta,a=Object(le.a)(e,["input","meta"]);return B.a.createElement("div",{className:n.touched&&n.error?"formsControls error":"formsControls"},B.a.createElement("div",null,B.a.createElement("input",Object.assign({},t,a))),n.touched&&n.error?B.a.createElement("span",null,n.error,"!"):null)},pe=function(e){return e?void 0:"Field required"},de=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," simbols"):void 0}},ge=de(50),Ee=Object(ue.a)({form:"dialogAddMessageForm"})((function(e){return B.a.createElement("form",{onSubmit:e.handleSubmit},B.a.createElement("div",null,B.a.createElement(ie.a,{name:"newMessageBody",component:me,placeholder:"Enter your message",validate:[pe,ge]})),B.a.createElement("button",null,"Send message"))})),he=function(e){var t=e.dialogs.map((function(e){return B.a.createElement(oe,{name:e.name,id:e.id})})),n=e.messages.map((function(e){return B.a.createElement(ce,{id:e.id,message:e.message})}));return e.isAuth?B.a.createElement("div",{className:"Dialogs"},B.a.createElement("div",{className:"Dialogs__page"},t),B.a.createElement("div",{className:"Dialogs__messages"},n,B.a.createElement(Ee,{onSubmit:function(t){e.SendMessage(t.newMessageBody)}}))):B.a.createElement(ne.a,{to:"/login"})},be=n(9),ve=function(e){return{isAuth:e.auth.isAuth}},we=function(e){var t=function(t){Object(K.a)(a,t);var n=Object($.a)(a);function a(){return Object(V.a)(this,a),n.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){return this.props.isAuth?B.a.createElement(e,this.props):B.a.createElement(ne.a,{to:"/login"})}}]),a}(B.a.Component);return Object(be.b)(ve)(t)},Oe=Object(a.d)(Object(be.b)((function(e){return{dialogs:e.dialogsPage.dialogs,newMessageText:e.dialogsPage.newMessageText,messages:e.dialogsPage.messages}}),(function(e){return{SendMessage:function(t){e({type:"SEND-MESSAGE",newMessageText:t})}}})),we)(he),_e=(n(287),n(124)),je=n.n(_e),Se=n(50),Ne=(n(288),function(e){for(var t=Object(Z.useState)(1),n=Object(Se.a)(t,2),a=n[0],r=n[1],s=Math.ceil(e.totalUsersCount/e.pageSize),o=[],c=1;c<=s;c++)o.push(c);var i=Math.ceil(s/15),u=15*(a-1)+1,l=15*a;return B.a.createElement("div",{className:"Paginator"},a>1&&B.a.createElement("div",{className:"Users__Pages Arrs",onClick:function(){return r(a-1)}},"<"),o.filter((function(e){return e>=u&&e<=l})).map((function(t){return B.a.createElement("div",{onClick:function(){e.onPageChanged(t)},className:e.currentPage===t?"Users__Pages CurrentPage":"Users__Pages"}," ",t," ")})),a<i&&B.a.createElement("div",{className:"Users__Pages Arrs",onClick:function(){return r(a+1)}},">"))}),Pe=function(e){return B.a.createElement("div",{className:"Users__body"},B.a.createElement(Ne,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize}),e.users.map((function(t){return B.a.createElement("div",{key:t.id},B.a.createElement("div",{className:"User__body"},B.a.createElement("div",{className:"User__followblock"},B.a.createElement(ee.b,{to:"/profile/"+t.id},B.a.createElement("div",{className:"User__avatar"},B.a.createElement("img",{src:null!=t.photos.small?t.photos.small:je.a,className:"Avatar__img"}))),t.followed?B.a.createElement("button",{disabled:e.followingNiProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollowThunk(t.id)}},"Unfollow"):B.a.createElement("button",{disabled:e.followingNiProgress.some((function(e){return e===t.id})),onClick:function(){e.followThunk(t.id)}},"Follow")),B.a.createElement("div",{className:"User__info"},B.a.createElement("div",{className:"User__name"},t.name),B.a.createElement("div",{className:"User__status"},t.id),B.a.createElement("div",{className:"User__location"},"u.location.country",", ",B.a.createElement("p",null,"u.location.city")))))})))},ye=n(125),ke=n.n(ye),Ce=function(){return B.a.createElement("img",{src:ke.a})},Te=function(e){return e.usersPage.users},Ue=function(e){return e.usersPage.pageSize},Ie=function(e){return e.usersPage.totalCount},xe=function(e){return e.usersPage.currentPage},De=function(e){return e.usersPage.isFetching},Me=function(e){return e.usersPage.followingNiProgress},Ae=function(e){Object(K.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(V.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.ChangePage(e.props.pageSize,t)},e}return Object(H.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.pageSize,this.props.currentPage)}},{key:"componentWillUnmount",value:function(){this.props.setCurrentPage(1)}},{key:"render",value:function(){return B.a.createElement(B.a.Fragment,null,this.props.isFetching?B.a.createElement(Ce,null):null,B.a.createElement(Pe,{totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,users:this.props.users,followThunk:this.props.followThunk,unfollowThunk:this.props.unfollowThunk,toggleFolowingProgress:this.props.toggleFolowingProgress,followingNiProgress:this.props.followingNiProgress}))}}]),n}(B.a.Component),Le=Object(a.d)(Object(be.b)((function(e){return{users:Te(e),pageSize:Ue(e),totalUsersCount:Ie(e),currentPage:xe(e),isFetching:De(e),followingNiProgress:Me(e)}}),{followSuccsess:N,unfollowSuccsess:P,setUsers:y,setCurrentPage:k,setTotalUsers:C,toggleIsFetching:T,toggleFolowingProgress:U,requestUsers:I,ChangePage:function(e,t){return function(){var n=Object(o.a)(s.a.mark((function n(a){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(I(e,t)),a(k(t)),a(T(!0)),n.next=5,l(e,t);case 5:r=n.sent,a(T(!1)),a(y(r.items));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followThunk:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(U(!0,e)),t.next=3,m(e);case 3:0===t.sent.data.resultCode&&n(N(e)),n(U(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunk:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(U(!0,e)),t.next=3,f(e);case 3:0===t.sent.data.resultCode&&n(P(e)),n(U(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),we)(Ae),ze=(n(115),n(289),n(126)),Fe=n.n(ze),Ge=n(127),We=n.n(Ge),Re=(B.a.Component,function(e){var t=Object(Z.useState)(!1),n=Object(Se.a)(t,2),a=n[0],r=n[1],s=Object(Z.useState)(e.status),o=Object(Se.a)(s,2),c=o[0],i=o[1];Object(Z.useEffect)((function(){i(e.status)}),[e.status]);var u=function(){r(!a),a&&e.updateUserStatus(c)};return B.a.createElement("div",null,!a&&B.a.createElement("div",null,B.a.createElement("span",{onDoubleClick:u},e.status?e.status:"-----------"," ")),a&&B.a.createElement("div",null,B.a.createElement("input",{onChange:function(e){i(e.currentTarget.value)},autoFocus:!0,onBlur:u,value:c})))}),Je=function(e){return e.profile?B.a.createElement("div",null,B.a.createElement("div",{className:"Profile__image"},B.a.createElement("img",{src:"https://avatars.mds.yandex.net/get-pdb/881477/cccaab65-30dc-4715-923e-b2594c6bb6e0/s1200?webp=false"})),B.a.createElement("div",{className:"ProfileIngo__UserName"},e.profile.fullName),B.a.createElement("div",{className:"Profile__DescriptionBlock"},B.a.createElement(Re,{status:e.status,updateUserStatus:e.updateUserStatus}),B.a.createElement("div",null,B.a.createElement("img",{src:e.profile.photos.large})),B.a.createElement("div",{className:"ProfileInfo__Status"},e.profile.aboutMe),B.a.createElement("div",null,"\u041e \u0440\u0430\u0431\u043e\u0442\u0435",B.a.createElement("div",null,B.a.createElement("img",{src:e.profile.lookingForAJob?Fe.a:We.a})),B.a.createElement("div",{className:"ProfileInfo__Status"},e.profile.lookingForAJobDescription)))):B.a.createElement(Ce,null)},Ye=(n(290),n(291),function(e){return B.a.createElement("div",{className:"MyPosts__Post"},B.a.createElement("img",{src:e.source}),e.message,B.a.createElement("div",{className:"Post__Like"},"Like ",e.likesCount))}),Xe=de(10),Ze=Object(ue.a)({form:"NewPostText"})((function(e){return B.a.createElement("form",{onSubmit:e.handleSubmit},B.a.createElement("div",null,B.a.createElement(ie.a,{component:me,name:"newPostText",placeholder:"add new post =)",validate:[pe,Xe]})),B.a.createElement("div",null,B.a.createElement("button",null,"add post")))})),Be=function(e){console.log("qweqweqw");var t=e.postsData.map((function(e){return B.a.createElement(Ye,{message:e.message,likesCount:e.likesCount,source:e.source})}));return B.a.createElement("div",null,B.a.createElement("div",null,"My Posts"),B.a.createElement(Ze,{onSubmit:function(t){e.addPost(t.newPostText)}}),t)},qe=Object(be.b)((function(e){return{newPostText:e.profilePage.newPostText,postsData:e.profilePage.postsData}}),(function(e){return{addPost:function(t){return e(function(e){return{type:"ADD_POST",newPostText:e}}(t))}}}))(Be),Qe=function(e){return B.a.createElement("div",null,B.a.createElement(Je,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),B.a.createElement(qe,null))},Ve=function(e){Object(K.a)(n,e);var t=Object($.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.usersId;e||(e=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return B.a.createElement(Qe,this.props)}}]),n}(B.a.Component),He=Object(a.d)(Object(be.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.id}}),{getUserProfile:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:a=t.sent,n(w(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:0===t.sent.data.resultCode&&n(w(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ne.f)(Ve),Ke=(n(292),function(e){return B.a.createElement("header",{className:"header"},B.a.createElement("img",{alt:"",src:"https://www.sarfmarket.com.tr/Data/Markalar/97.jpg"}),B.a.createElement("div",{className:"LoginBlock"},e.isAuth?B.a.createElement(B.a.Fragment,null,B.a.createElement("div",null,B.a.createElement("button",{onClick:e.logout},"Logout"),"  ",e.login)):B.a.createElement(ee.b,{to:"/login"},"Login")))}),$e=function(e){Object(K.a)(n,e);var t=Object($.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"render",value:function(){return B.a.createElement(Ke,this.props)}}]),n}(B.a.Component),et=Object(be.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:0===e.sent.data.resultCode&&t(A(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})($e),tt=Object(ue.a)({form:"login"})((function(e){return B.a.createElement("form",{onSubmit:e.handleSubmit},B.a.createElement("div",null,B.a.createElement(ie.a,{placeholder:"login",name:"login",component:fe,validate:[pe]})),B.a.createElement("div",null,B.a.createElement(ie.a,{placeholder:"password",type:"password",name:"password",component:fe,validate:[pe]})),B.a.createElement("div",null,B.a.createElement(ie.a,{type:"checkbox",name:"rememberMe",component:fe}),"remember me"),e.error?B.a.createElement("div",{className:"formSummaryError"},e.error):null,B.a.createElement("div",null,B.a.createElement("button",null,"Login")))})),nt=Object(be.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(o.a)(s.a.mark((function a(r){var o,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(e,t,n);case 2:0===(o=a.sent).data.resultCode?r(L()):(c=o.data.messages.length>0?o.data.messages[0]:"Some error",r(Object(D.a)("login",{_error:c})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?B.a.createElement(ne.a,{to:"/profile"}):B.a.createElement(B.a.Fragment,null,B.a.createElement("h1",null,"Login"),B.a.createElement(tt,{onSubmit:function(t){e.login(t.login,t.password,t.rememberMe)}}))})),at=function(e){Object(K.a)(n,e);var t=Object($.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?B.a.createElement("div",{className:"body"},B.a.createElement("div",{className:"app-wrapper"},B.a.createElement(et,null),B.a.createElement(te,null),B.a.createElement("div",{className:"app-wrapper-content"},B.a.createElement(ne.b,{path:"/profile/:usersId?",render:function(){return B.a.createElement(He,null)}}),B.a.createElement(ne.b,{path:"/dialogs",render:function(){return B.a.createElement(Oe,null)}}),B.a.createElement(ne.b,{path:"/users",render:function(){return B.a.createElement(Le,null)}}),B.a.createElement(ne.b,{path:"/news",component:re}),B.a.createElement(ne.b,{path:"/music",component:ae}),B.a.createElement(ne.b,{path:"/settings",component:se}),B.a.createElement(ne.b,{path:"/login",render:function(){return B.a.createElement(nt,null)}})))):B.a.createElement(Ce,null)}}]),n}(B.a.Component),rt=Object(a.d)(ne.f,Object(be.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(L()).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(at);Q.a.render(B.a.createElement(B.a.StrictMode,null,B.a.createElement(ee.a,null,B.a.createElement(be.a,{store:X},B.a.createElement(rt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[153,1,2]]]);
//# sourceMappingURL=main.c05ea3d3.chunk.js.map